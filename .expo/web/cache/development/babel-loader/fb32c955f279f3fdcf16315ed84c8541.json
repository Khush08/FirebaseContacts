{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Repository\\\\Self\\\\React-native\\\\ReactNative8\\\\FirebaseContact\\\\screens\\\\ContactScreen.js\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\nimport * as firebase from 'firebase';\n\nfunction ContactScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loaded = _useState4[0],\n      setLoad = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      empty = _useState6[0],\n      setEmpty = _useState6[1];\n\n  callOnNumber = function callOnNumber(phone) {\n    var phoneNumber = phone;\n\n    if (Platform.OS !== 'android') {\n      phoneNumber = \"telprompt:\" + phone;\n    } else {\n      phoneNumber = \"tel:\" + phone;\n    }\n\n    Linking.canOpenURL(phoneNumber).then(function (supported) {\n      if (!supported) {\n        Alert.alert(\"Phone Number not availaible\");\n      } else {\n        return Linking.openURL(phoneNumber);\n      }\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  };\n\n  msgOnNumber = function msgOnNumber(phone) {\n    var phoneNumber = phone;\n    phoneNumber = \"sms:\" + phone;\n    Linking.canOpenURL(phoneNumber).then(function (supported) {\n      if (!supported) {\n        Alert.alert(\"Phone Number not availaible\");\n      } else {\n        return Linking.openURL(phoneNumber);\n      }\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  };\n\n  useEffect(function () {\n    navigation.addListener('focus', function () {\n      var databaseRef = firebase.database().ref(\"Contacts\");\n      databaseRef.on('value', function (snapShot) {\n        if (snapShot.val()) {\n          var dataRef = Object.values(snapShot.val());\n          var keys = Object.keys(snapShot.val());\n          keys.forEach(function (value, key) {\n            return dataRef[key]['key'] = value;\n          });\n          var dataRefSorted = dataRef.sort(function (a, b) {\n            var conA = a.fname.toUpperCase();\n            var conB = b.fname.toUpperCase();\n            if (conA > conB) return 1;\n            if (conA < conB) return -1;\n            return 0;\n          });\n          setData(dataRefSorted);\n          setLoad(true);\n        } else {\n          setLoad(true);\n          setEmpty(true);\n        }\n      });\n    });\n  }, [navigation]);\n\n  if (!loaded) {\n    return React.createElement(View, {\n      style: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: {\n        color: '#61DAFB',\n        marginBottom: 10,\n        alignSelf: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, \"Loading Contacts...\"), React.createElement(ActivityIndicator, {\n      color: \"#61DAFB\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }));\n  } else if (empty) {\n    return React.createElement(View, {\n      style: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: {\n        color: '#61DAFB',\n        marginBottom: 10,\n        alignSelf: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, \"Add your first contact\"), React.createElement(TouchableOpacity, {\n      style: styles.floatBtn,\n      onPress: function onPress() {\n        return navigation.navigate('Add');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, React.createElement(Ionicons, {\n      name: \"ios-add\",\n      size: 45,\n      color: \"#61DAFB\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    })));\n  }\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: '#282A36'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: data,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      var phoneNum = item.phone;\n      var image = item.imageUrl;\n      console.log(image);\n      var hold1 = React.createElement(View, {\n        style: styles.cardImg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: '#282A36',\n          fontSize: 14,\n          letterSpacing: 2,\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }, item.fname[0], item.lname[0]));\n      var hold2 = React.createElement(View, {\n        style: styles.img,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        style: styles.imgHolder,\n        source: image === 'empty' ? require(\"../assets/logo.png\") : {\n          uri: image.toString()\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      }));\n      return React.createElement(View, {\n        style: styles.cardview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return callOnNumber(phoneNum);\n        },\n        onLongPress: function onLongPress() {\n          return msgOnNumber(phoneNum);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }, item.imageUrl === 'empty' ? hold1 : hold2, React.createElement(View, {\n        style: styles.info,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white',\n          marginBottom: 7,\n          fontSize: 14,\n          letterSpacing: 2,\n          fontWeight: '900'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }\n      }, item.fname, \" \", item.lname), React.createElement(Text, {\n        style: {\n          color: '#61DAFB',\n          fontSize: 10,\n          letterSpacing: 1,\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }\n      }, item.phone))))), React.createElement(View, {\n        style: {\n          justifyContent: 'center',\n          alignSelf: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate('ViewScreen', {\n            key: item.key\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }\n      }, React.createElement(MaterialCommunityIcons, {\n        name: \"information-variant\",\n        size: 24,\n        color: \"white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }\n      }))));\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.key;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.floatBtn,\n    onPress: function onPress() {\n      return navigation.navigate('Add');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, React.createElement(Ionicons, {\n    name: \"ios-add\",\n    size: 45,\n    color: \"#61DAFB\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  })));\n}\n\nexport default ContactScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#282A36',\n    alignContent: 'center',\n    justifyContent: 'center'\n  },\n  floatBtn: {\n    position: 'absolute',\n    right: 20,\n    bottom: 20,\n    backgroundColor: '#282A36',\n    shadowColor: '#000000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.8,\n    shadowRadius: 2.22,\n    elevation: 9,\n    width: 44,\n    height: 44,\n    borderRadius: 44 / 2,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  cardview: {\n    flexDirection: 'row',\n    padding: 13,\n    backgroundColor: '#282A36',\n    marginBottom: 1,\n    borderBottomWidth: 0.17,\n    borderColor: 'white',\n    justifyContent: 'space-between'\n  },\n  cardImg: {\n    backgroundColor: '#61DAFB',\n    width: 44,\n    height: 44,\n    borderRadius: 44 / 2,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  info: {\n    flexDirection: 'column',\n    paddingLeft: 15\n  },\n  img: {\n    width: 44,\n    height: 44,\n    borderRadius: 44 / 2,\n    borderColor: '#61DAFB',\n    borderWidth: 2,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 2,\n    alignSelf: 'center'\n  },\n  imgHolder: {\n    width: 40,\n    height: 40,\n    borderRadius: 40 / 2\n  }\n});","map":{"version":3,"sources":["C:/Repository/Self/React-native/ReactNative8/FirebaseContact/screens/ContactScreen.js"],"names":["React","useState","useEffect","Ionicons","MaterialCommunityIcons","firebase","ContactScreen","navigation","data","setData","loaded","setLoad","empty","setEmpty","callOnNumber","phone","phoneNumber","Platform","OS","Linking","canOpenURL","then","supported","Alert","alert","openURL","catch","error","console","log","msgOnNumber","addListener","databaseRef","database","ref","on","snapShot","val","dataRef","Object","values","keys","forEach","value","key","dataRefSorted","sort","a","b","conA","fname","toUpperCase","conB","styles","container","color","marginBottom","alignSelf","floatBtn","navigate","flex","backgroundColor","item","phoneNum","image","imageUrl","hold1","cardImg","fontSize","letterSpacing","fontWeight","lname","hold2","img","imgHolder","require","uri","toString","cardview","flexDirection","info","justifyContent","StyleSheet","create","alignContent","position","right","bottom","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","borderRadius","alignItems","padding","borderBottomWidth","borderColor","paddingLeft","borderWidth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {StyleSheet, View, Text, TouchableOpacity, Image, Alert, FlatList, Linking, Platform, ActivityIndicator} from 'react-native';\r\nimport { Ionicons , MaterialCommunityIcons} from '@expo/vector-icons';\r\nimport * as firebase from 'firebase';\r\n\r\nfunction ContactScreen({navigation}) {\r\n    const [data, setData] = useState([]);\r\n    const [loaded, setLoad] = useState(false);\r\n    const [empty, setEmpty] = useState(false);\r\n    callOnNumber = phone =>{\r\n        var phoneNumber = phone;\r\n        if(Platform.OS !== 'android'){\r\n          phoneNumber = `telprompt:${phone}`\r\n        } else {\r\n          phoneNumber = `tel:${phone}`\r\n        }\r\n        Linking.canOpenURL(phoneNumber)\r\n        .then(supported =>{\r\n            if(!supported){\r\n                Alert.alert(\"Phone Number not availaible\")\r\n            } else{\r\n                return Linking.openURL(phoneNumber);\r\n            }\r\n        })\r\n        .catch(error => console.log(error));\r\n    }\r\n    msgOnNumber = phone =>{\r\n        var phoneNumber = phone;\r\n        phoneNumber = `sms:${phone}`  \r\n        Linking.canOpenURL(phoneNumber)\r\n        .then(supported =>{\r\n            if(!supported){\r\n                Alert.alert(\"Phone Number not availaible\")\r\n            } else{\r\n                return Linking.openURL(phoneNumber);\r\n            }\r\n        })\r\n        .catch(error => console.log(error));\r\n    }\r\n    useEffect(() => {\r\n        navigation.addListener('focus', () => {\r\n            const databaseRef = firebase.database().ref(\"Contacts\");\r\n            databaseRef.on('value', snapShot => {\r\n                if(snapShot.val()){\r\n                    let dataRef = Object.values(snapShot.val());\r\n                    let keys = Object.keys(snapShot.val());\r\n                    keys.forEach((value, key) => \r\n                        dataRef[key]['key'] = value\r\n                    );\r\n                    let dataRefSorted = dataRef.sort((a, b) => {\r\n                        var conA = a.fname.toUpperCase();\r\n                        var conB = b.fname.toUpperCase();\r\n                        if(conA > conB) return 1;\r\n                        if(conA < conB) return -1;\r\n                        return 0;\r\n                    })\r\n                    setData(dataRefSorted);\r\n                    setLoad(true);\r\n                }else{\r\n                    setLoad(true);\r\n                    setEmpty(true);\r\n                }\r\n\r\n            })\r\n        })\r\n    }, [navigation]);\r\n    if(!loaded){\r\n        return(\r\n            <View style = {styles.container}>\r\n            <Text style = {{color: '#61DAFB', marginBottom: 10, alignSelf: 'center'}}>Loading Contacts...</Text>\r\n            <ActivityIndicator color = '#61DAFB' />\r\n            </View>\r\n        );\r\n    } else if(empty){\r\n        return(\r\n            <View style = {styles.container}>\r\n            <Text style = {{color: '#61DAFB', marginBottom: 10, alignSelf: 'center'}}>Add your first contact</Text>\r\n            <TouchableOpacity \r\n            style={styles.floatBtn}\r\n            onPress = { () => navigation.navigate('Add')}\r\n            >\r\n                <Ionicons name=\"ios-add\" size={45} color='#61DAFB' />\r\n            </TouchableOpacity>\r\n            </View>\r\n        );\r\n    }\r\n    return(\r\n        <View style={{ flex: 1, backgroundColor : '#282A36'  }}>\r\n        <FlatList\r\n        data = {data}\r\n        renderItem = { ({item}) => {\r\n        const phoneNum = item.phone;\r\n        const image = item.imageUrl;\r\n        console.log(image);\r\n        const hold1 = \r\n        <View style = {styles.cardImg}>\r\n        <Text style = {{ color: '#282A36', fontSize: 14, letterSpacing: 2, fontWeight: 'bold' }}>{item.fname[0]}{item.lname[0]}</Text>\r\n        </View>;\r\n        const hold2 = \r\n        <View style = {styles.img}>\r\n            <Image \r\n            style = {styles.imgHolder}\r\n            source = {\r\n                image === 'empty'? require('../assets/logo.png') : {uri :image.toString()}\r\n            }\r\n            />\r\n        </View>;\r\n        return( \r\n            <View style = {styles.cardview}>\r\n            <View>\r\n                <TouchableOpacity\r\n                onPress = {() => callOnNumber(phoneNum)}\r\n                onLongPress = {()=> msgOnNumber(phoneNum)}\r\n                >\r\n                <View style={{flexDirection:'row'}}>\r\n                    {\r\n                        item.imageUrl === 'empty' ? hold1: hold2\r\n                    }\r\n                    <View style={styles.info}>\r\n                    <Text style = {{ color: 'white', marginBottom: 7, fontSize: 14, letterSpacing: 2, fontWeight: '900' }}>{item.fname} {item.lname}</Text>\r\n                    <Text style = {{ color: '#61DAFB', fontSize: 10, letterSpacing: 1, fontWeight: 'bold' }}>{item.phone}</Text>\r\n                    </View>\r\n                </View>\r\n                </TouchableOpacity>\r\n                </View>\r\n                <View style = {{justifyContent: 'center', alignSelf:'center'}}>\r\n                <TouchableOpacity\r\n                onPress = {() => navigation.navigate('ViewScreen', { key : item.key})}\r\n                >\r\n                    <MaterialCommunityIcons name=\"information-variant\" size={24} color=\"white\" />\r\n                </TouchableOpacity>\r\n            </View>\r\n            </View>\r\n        );\r\n        }}\r\n        keyExtractor = { item => item.key }\r\n        />\r\n        <TouchableOpacity \r\n        style={styles.floatBtn}\r\n        onPress = { () => navigation.navigate('Add')}\r\n        >\r\n            <Ionicons name=\"ios-add\" size={45} color='#61DAFB' />\r\n        </TouchableOpacity>\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default ContactScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n    container : {\r\n        flex : 1,\r\n        backgroundColor : '#282A36',\r\n        alignContent : 'center',\r\n        justifyContent : 'center'\r\n    },\r\n    floatBtn : {\r\n        position: 'absolute',\r\n        right: 20,\r\n        bottom: 20,\r\n        backgroundColor : '#282A36',\r\n        shadowColor: '#000000',\r\n        shadowOffset: {\r\n          width: 0,\r\n          height: 1,\r\n        },\r\n        shadowOpacity: 0.8,\r\n        shadowRadius: 2.22,\r\n        elevation: 9,\r\n        width: 44,\r\n        height: 44,\r\n        borderRadius: 44/2,\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    cardview: {\r\n        flexDirection: 'row',\r\n        padding: 13,\r\n        backgroundColor:'#282A36',\r\n        marginBottom: 1, \r\n        borderBottomWidth: 0.17,\r\n        borderColor: 'white',\r\n        justifyContent: 'space-between'\r\n    },\r\n    cardImg : {\r\n        backgroundColor : '#61DAFB',\r\n        width: 44,\r\n        height: 44,\r\n        borderRadius: 44/2,\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    \r\n    },\r\n    info : {\r\n        flexDirection:'column',\r\n        paddingLeft: 15\r\n    },\r\n    img : {\r\n        width: 44,\r\n        height: 44,\r\n        borderRadius: 44/2,\r\n        borderColor: '#61DAFB',\r\n        borderWidth: 2,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: 2, \r\n        alignSelf: 'center'\r\n    },\r\n    imgHolder : {\r\n        width: 40,\r\n        height: 40,\r\n        borderRadius: 40/2,\r\n    },\r\n})"]},"metadata":{},"sourceType":"module"}